(this.webpackJsonptodo_app=this.webpackJsonptodo_app||[]).push([[0],{74:function(e,t,n){},75:function(e,t,n){},80:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n(1),a=n.n(r),s=n(14),i=n.n(s),o=(n(74),n(75),n(24)),l=n(13),d=n(17),u=n(21),j=n.n(u),b=n(35),p=n(43),x=p.a.initializeApp({apiKey:"AIzaSyAOwLx-kFJU3KRDXnNVbmiQse7bQnOtN6A",authDomain:"todo-app-8159a.firebaseapp.com",projectId:"todo-app-8159a",storageBucket:"todo-app-8159a.appspot.com",messagingSenderId:"693631458943",appId:"1:693631458943:web:f758cec04138be8867694a"}),h=x.auth(),O=x.firestore(),f=new p.a.auth.GoogleAuthProvider,g=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.signInWithPopup(f);case 3:return t=e.sent,n=t.user,e.next=7,O.collection("users").where("uid","==",n.uid).get();case 7:if(0!==e.sent.docs.length){e.next=11;break}return e.next=11,O.collection("users").doc(n.uid).set({uid:n.uid,name:n.displayName,authProvider:"google",email:n.email});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.signInWithEmailAndPassword(t,n);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(t,n,c){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.createUserWithEmailAndPassword(n,c);case 3:return r=e.sent,a=r.user,e.next=7,O.collection("users").doc(a.uid).set({uid:a.uid,name:t,authProvider:"local",email:n});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,c){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.sendPasswordResetEmail(t);case 3:alert("Password reset link sent!"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){h.signOut()},N=n(23);n(80);var y=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(d.a)(s,2),u=i[0],j=i[1],b=Object(N.a)(h),p=Object(d.a)(b,3),x=p[0],O=p[1],f=(p[2],Object(l.f)());return Object(r.useEffect)((function(){O||x&&f.replace("/dashboard")}),[x,O]),Object(c.jsx)("div",{className:"login",children:Object(c.jsxs)("div",{className:"pad",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{className:"h1tag",children:"TODO"})}),Object(c.jsxs)("div",{className:"login__container",children:[Object(c.jsx)("input",{type:"text",className:"login__textBox",value:n,onChange:function(e){return a(e.target.value)},placeholder:"E-mail Address"}),Object(c.jsx)("input",{type:"password",className:"login__textBox",value:u,onChange:function(e){return j(e.target.value)},placeholder:"Password"}),Object(c.jsx)("button",{className:"login__btn",onClick:function(){return v(n,u)},children:"Login"}),Object(c.jsx)("button",{className:"login__btn login__google",onClick:g,children:"Login with Google"}),Object(c.jsx)("div",{children:Object(c.jsx)(o.b,{to:"/reset",children:"Forgot Password"})}),Object(c.jsxs)("div",{children:["Don't have an account? ",Object(c.jsx)(o.b,{to:"/register",children:"Register"})," now."]})]})]})})};n(85);var k=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(d.a)(s,2),u=i[0],j=i[1],b=Object(r.useState)(""),p=Object(d.a)(b,2),x=p[0],O=p[1],f=Object(N.a)(h),v=Object(d.a)(f,3),_=v[0],w=v[1],y=(v[2],Object(l.f)());return Object(r.useEffect)((function(){w||_&&y.replace("/dashboard")}),[_,w]),Object(c.jsx)("div",{className:"register",children:Object(c.jsxs)("div",{className:"pad",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{className:"h1tag",children:"TODO"})}),Object(c.jsxs)("div",{className:"register__container",children:[Object(c.jsx)("input",{type:"text",className:"register__textBox",value:x,onChange:function(e){return O(e.target.value)},placeholder:"Full Name"}),Object(c.jsx)("input",{type:"text",className:"register__textBox",value:n,onChange:function(e){return a(e.target.value)},placeholder:"E-mail Address"}),Object(c.jsx)("input",{type:"password",className:"register__textBox",value:u,onChange:function(e){return j(e.target.value)},placeholder:"Password"}),Object(c.jsx)("button",{className:"register__btn",onClick:function(){x||alert("Please enter name"),m(x,n,u)},children:"Register"}),Object(c.jsx)("button",{className:"register__btn register__google",onClick:g,children:"Register with Google"}),Object(c.jsxs)("div",{children:["Already have an account? ",Object(c.jsx)(o.b,{to:"/",children:"Login"})," now."]})]})]})})};n(86);var S=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(N.a)(h),i=Object(d.a)(s,3),u=i[0],j=i[1],b=(i[2],Object(l.f)());return Object(r.useEffect)((function(){j||u&&b.replace("/dashboard")}),[u,j]),Object(c.jsx)("div",{className:"reset",children:Object(c.jsxs)("div",{className:"pad",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{className:"h1tag",children:"TODO"})}),Object(c.jsxs)("div",{className:"reset__container",children:[Object(c.jsx)("input",{type:"text",className:"reset__textBox",value:n,onChange:function(e){return a(e.target.value)},placeholder:"E-mail Address"}),Object(c.jsx)("button",{className:"reset__btn",onClick:function(){return _(n)},children:"Send Password Reset Link"}),Object(c.jsxs)("div",{children:["Don't have an account? ",Object(c.jsx)(o.b,{to:"/register",children:"Register"})," now."]})]})]})})},C=n(122),D=n(117),P=n(123),A=n(121);function E(e){var t=e.todo,n=e.inprogress,r=e.id,a=Object(N.a)(h),s=Object(d.a)(a,3),i=s[0],o=(s[1],s[2],i.uid);return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"10px",backgroundColor:"rgb(230, 230, 230)",borderRadius:"25px",marginTop:"10px"},children:[Object(c.jsx)(D.a,{children:Object(c.jsx)(P.a,{primary:t,secondary:n?"In Progress...":"Completed \u2705"})}),Object(c.jsxs)("div",{style:{flexDirection:"row",alignSelf:"flex-end"},children:[Object(c.jsx)(A.a,{onClick:function(){O.collection("users").doc(String(o)).collection("todos").doc(r).update({inprogress:!n})},children:n?"\u2714\ufe0f":"\u274c"}),Object(c.jsx)(A.a,{onClick:function(){O.collection("users").doc(String(o)).collection("todos").doc(r).delete()},children:"\ud83d\uddd1\ufe0f"})]})]})}n(87),n(88);var B=function(){var e=Object(N.a)(h),t=Object(d.a)(e,3),n=t[0],a=t[1],s=(t[2],Object(r.useState)("")),i=Object(d.a)(s,2),o=(i[0],i[1]),u=Object(r.useState)(""),x=Object(d.a)(u,2),f=(x[0],x[1]),g=Object(l.f)(),v=Object(r.useState)([]),m=Object(d.a)(v,2),_=m[0],y=m[1],k=Object(r.useState)(""),S=Object(d.a)(k,2),D=S[0],P=S[1],A=function(){var e=Object(b.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.collection("users").where("uid","==",null===n||void 0===n?void 0:n.uid).get();case 3:return t=e.sent,e.next=6,t.docs[0].data();case 6:c=e.sent,o(c.name),f(c.uid),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(!a){if(!n)return g.replace("/");A();var e=n.uid;O.collection("users").doc(String(e)).collection("todos").orderBy("timestamp","desc").onSnapshot((function(e){return y(e.docs.map((function(e){return{id:e.id,todo:e.data().todo,inprogress:e.data().inprogress}})))}))}}),[n,a]),Object(c.jsx)("div",{className:"dashboard",children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[Object(c.jsx)("div",{style:{display:"flex",alignSelf:"flex-end",flexDirection:"column",paddingRight:"3%",paddingTop:"3%"},children:Object(c.jsx)("button",{className:"dashboard__btn",onClick:w,children:"Logout"})}),Object(c.jsx)("h1",{children:"TODO"}),Object(c.jsxs)("form",{children:[Object(c.jsx)(C.a,{id:"filled-multiline-static",label:"Write a Todo",value:D,style:{width:"90vw",maxWidth:"500px"},onChange:function(e){return P(e.target.value)},multiline:!0,rows:2,defaultValue:"",variant:"filled"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"dashboard__btn_add",type:"submit",variant:"contained",onClick:function(e){e.preventDefault(),""!=D&&O.collection("users").doc(String(n.uid)).collection("todos").add({inprogress:!0,timestamp:p.a.firestore.FieldValue.serverTimestamp(),todo:D}),P("")},children:"ADD"}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("div",{className:"dashboard_list",style:{width:"90vw",maxWidth:"1000px"},children:[Object(c.jsx)("h2",{style:{textAlign:"center",fontSize:"30px"},children:"Your ToDo's"}),_.map((function(e){return Object(c.jsx)(E,{todo:e.todo,inprogress:e.inprogress,id:e.id})}))]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})]})})};var I=function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(o.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:y}),Object(c.jsx)(l.a,{exact:!0,path:"/register",component:k}),Object(c.jsx)(l.a,{exact:!0,path:"/reset",component:S}),Object(c.jsx)(l.a,{exact:!0,path:"/dashboard",component:B})]})})})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(I,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.12a011be.chunk.js.map